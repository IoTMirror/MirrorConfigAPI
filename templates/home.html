{% extends "layout.html" %}
{% macro widget_panel_form(full_name, name) %}
<span>
  {{ full_name }}
</span>
<a id="{{name}}DeleteButton" href="#!" class="secondary-content"><i class="material-icons">not_interested</i></a>
<form id="{{name}}SizeForm">
  <div class="row group">
    <div class="input-field col s6">
      <input id="{{name}}W" placeholder="Width">
    </div>
    <div class="input-field col s6">
      <input id="{{name}}H" placeholder="Height">
    </div>
  </div>
</form>
<div id="{{name}}LoginButtonForm">
  <button id="{{name}}LoginButton" class="btn waves-effect waves-light">
    Log in
  </button>
</div>
{% endmacro %}

{% macro mirror_list_element(mirror_id) %}
<li class="collection-item">
    <button id="StartLearningButton{{ mirror_id }}" class="learn-button btn waves-effect waves-light" data-mirrorid="{{ mirror_id }}">
      Start learning
    </button>
    {{ mirror_id }}
</li>
{% endmacro %}

{% macro mirror_list(mirror_id_list) %}
<div class="card">
  <div class="card-content">
    <ul id="MirrorList" class="collection">
        {% for id in mirror_id_list %}
          {{ mirror_list_element(id) }}
        {% endfor %}
    </ul>
  </div>

  <div class="card-action">
    <form>
      <input id="NewMirrorID" placeholder="Serial Number">
      <div class="row group">
        <button id="AddMirrorButton" class = "btn waves-effect waves-light">
          Add new
        </button>
      </div>
    </form>
  </div>
</div>
{% endmacro %}

{% block body %}
  <script src="/static/js/home.js"></script>
  <nav>
  </nav>
  <div id="WidgetsPanelContainer" class="row" style="display: none">
    <div id="WidgetsPanelCard" class="card">
      <div id="WidgetsPanel" class="col s6">
        <canvas id="WidgetCanvas"></canvas>
      </div>
      <div id="WidgetPanelControls" class="col s6">
        <ul class="collection">
         <li class="collection-item avatar">
           <img class="circle" src="/static/img/TasksLogo.png">
           {{ widget_panel_form("Google Tasks", "GoogleTasks") }}
         </li>
         <li class="collection-item avatar">
           <img class="circle" src="/static/img/TwitterLogo.png">
           {{ widget_panel_form("Twitter", "Twitter") }}
         </li>
         <li class="collection-item avatar">
           <img class="circle" src="/static/img/GmailLogo.png">
           {{ widget_panel_form("Gmail", "Gmail") }}
         </li>
       </ul>
     </div>
   </div>
  </div>
  <div id="MirrorListContainer" class="row" style="display: none">
    {{ mirror_list(mirror_id_list) }}
  </div>
{% endblock %}
